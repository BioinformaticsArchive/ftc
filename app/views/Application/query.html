#{extends 'main.html' /}
#{set title:'Search results' /}


<script type="text/javascript">
$(document).ready(function() {
	$('#submit_button').click(function() {
		console.log("clkicked");
		$('#errors').hide();
		$('#loader').show();
	});
});
</script>

//Use the generic tag here instead of that
<form action="@{Application.owlQuery()}" method="POST">
   		<span>Thing that is </span>
   		<input id="input-owl-query" type="text" name="query" value="${flash.query}"/ size="70"> 
    	<input id="submit_button" type="submit" value="Search" />
</form>

<div id="loader" style="display: none;">
	<img src="@{'/public/images/loader.gif'}">
</div>

#{if flash.error}
	<div id="errors" style="color: red;">
		${flash.error.raw()}
	</div>
#{/if}

//TODO here
#{if result != null}
<div class="block-information">
<ul>
<!-- Do custom tags-->
#{list items:result.labelMap.keySet(), as:'key' }
	#{if result.typeMap.get(key).equals("ftc")}
		#{ftcClass key:key, value:result.labelMap.get(key) /}
	#{/if}
		
	#{if result.typeMap.get(key).equals("protein")}
		#{protein key:key, value:result.labelMap.get(key) /}
	#{/if}
	
	#{if result.typeMap.get(key).equals("drugbank")}
		#{drugbank key:key, value:result.labelMap.get(key) /}
	#{/if}
	
	#{if result.typeMap.get(key).equals("go")}
		#{go key:key, value:result.labelMap.get(key) /}
	#{/if}

#{/list}
</ul>
</div>
#{/if}


<ul>
<li>'drug' that ('perturbs' some ('protein' that ('involved-in' some 'blood coagulation')))</li>
</ul>