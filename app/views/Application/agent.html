#{extends 'main.html' /} #{set title:agent.drugBankId + ' - ' +
agent.label /}

<script type="text/javascript">
$(document).ready(function() {
	$('.togglable').click(function() {
		$(this).parent().find('.togglable').toggle();
  		$(this).parent().parent().find('ul').toggle('fast', function() {});
	});
});
</script>

<h1 id="agent-title">
    <span id="agentId">${agent.drugBankId}</span> - ${agent.label}
</h1>
<div id="thumb-drug">
    <img
        src="http://structures.wishartlab.com/molecules/${agent.drugBankId}/thumb.png" />
</div>

<nav class="block-information class-info action">
    <h2>
        <span class="togglable">[-] </span> <span class="togglable"
            style="display: none">[+] </span> Super
        class${agent.directFtcClasses.size().pluralize('es')}<span
            class="numbers"> (${agent.directFtcClasses.size()})</span>
    </h2>

    #{if agent.directFtcClasses.size() == 0}
    <p>No superclasses.</p>
    #{/if} #{else}
    <ul>
        #{list items:agent.directFtcClasses, as:'superClass' } #{if
        superClass != null}
        <a href="@{Application.classVisu(superClass.ftcId)}">
            <li class="transition direct">${superClass.ftcId} -
                ${superClass.label}</li>
        </a> #{/if} #{/list}
    </ul>
    #{/else}
</nav>

<div class="block-information" id="drugbank-data">
    <h2>Functional properties (via DrugBank)</h2>
    <p>
        <strong>DrugBank entry: </strong> <a
            href="http://www.drugbank.ca/drugs/${agent.drugBankId}">${agent.drugBankId}
            - ${agent.label}</a>
    </p>
    <p>
        <strong>Description: </strong>${agent.description}
    </p>
    <p>
        <strong>Indication: </strong>${agent.indication}
    </p>
    <p>
        <strong>Mechanism: </strong>${agent.mechanism}
    </p>
    <p>
        <strong>Pharmacology: </strong>${agent.pharmacology}
    </p>
    <p>
        <strong>ATC: </strong>
        #{list items:agent.atcCodes, as:'atcCode' }
        <a href="http://www.whocc.no/atc_ddd_index/?code=${atcCode}">${atcCode}</a>
        #{/list}
    </p>
    <p>
        <strong>DrugBank categories: </strong>
        #{list items:agent.categories, as:'category' }
        <span class="category-db">${category}</span>
        #{/list}
    </p>
</div>